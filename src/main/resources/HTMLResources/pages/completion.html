<!-- //////// Script for displaying buttons //////// -->
<script>
  questionType= 'none';
  NextPageAnswerNames= {"default": ""};
  //Settings
  $("#options").prop('disabled', true).css('opacity', 0.2);
  $("#problemStatement").prop('disabled', false).css('opacity', 1);
  $("#PrevPage").prop('disabled', false).css('opacity', 1);
  $("#NextPage").prop('disabled', true).css('opacity', 0.2);
  $("#login-1-firstname").text(firstname);
  $("#IVET_title").html(IVETTitle);
  //settings
  </script>
  
  <script src="js/html2canvas.min.js"></script>
  <script>
  overallDuration = (pageEndTime - activityBeginTime);
  console.log("activityBeginTime = " + activityBeginTime);
  console.log("pageEndTime = " + pageEndTime);
  console.log("overallDuration = " + duration);
              dateObj = new Date(overallDuration); 
              days = dateObj.getUTCDate();
              hours = dateObj.getUTCHours(); 
              minutes = dateObj.getUTCMinutes(); 
              seconds = dateObj.getSeconds();   
              timeString = hours.toString().padStart(2, '0') 
                  + ':' + minutes.toString().padStart(2, '0') 
                  + ':' + seconds.toString().padStart(2, '0')
              console.log("timeString = " + timeString);
              $("#time-hms").text(timeString);
  activityBeginDate = activityBeginTime.toString();
  pageEndDate = pageEndTime.toString();
    var res1 = activityBeginDate.split(" GMT");
    res1[0];
    var res2 = pageEndDate.split(" GMT");
    res2[0];
  $("#date-startTime").text(res1[0]);
  $("#date-endTime").text(res2[0]);				
  
  // The following code creates the screenshot 
  var d = new Date();
  var n = d.getTime();
  var png_name = "IOLScreenshot_"+n.toString(36)+".png";
  document.getElementById("download").download = png_name;
  $("#pngname").text(png_name);
  $(function(){
    window.scrollTo(0,0);
      var container = document.getElementById("certificate-container");
      html2canvas(container, {
        height: window.outerHeight + window.innerHeight,
     windowHeight: window.outerHeight + window.innerHeight,
     scrollY: -window.scrollY
      }).then(function(canvas) {	
          var base64image = canvas.toDataURL("image/png");	
          download_img = function(el) {
              el.href = base64image;
          };
      });
  });   
  // End of code that creates the screenshot
  
  learned1content = "";
      $.each(allPageData.serializeArray(), function(i, field) {		
          if(field.name == "learned1") { learned1content = field.value; }
          console.log(". learned1content " + field.name + " " + field.value );  
      });
  
  $("#whatLearned-1").text(learned1content);
  console.log( ". final learned1content " + learned1content );    ///  does not work

  </script>
<div class="container mt-3 mb-3">
<div class="row">
  <div class="certificate-container mt-3" id="certificate-container" style="border:20px solid #bbbbff; width:750px; height: 560px; display: flex; align-items: center; flex-direction: column; justify-content:center; margin-left: auto; margin-right: auto;">
    <div class="logo" style="color:#bbbbff">Interactive Video-Enhanced Tutorial </div>
    <div class="marquee" style="color: #bbbbff; font-size: 48px; margin: 20px;">Certificate of Completion</div>
    <div class="assignment" style = "margin: 20px;">This certificate is presented to</div>
    <div class="person" style = "border-bottom: 2px solid black; font-size:32px; font-style: italic; margin: 20px auto; text-align: center; width: 400px;" id="login-1-firstname">John Doe</div>
    <div class="reason margin:20px;">
      for completing the IVET tutorial</div>
      <p  style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:large; font-weight:normal"><span  style="font-weight:bold">
        <b>Total duration: <span id='time-hms'></span> (h:m:s).</b> </span>
        Date: From <span id='date-startTime'>initial</span> to <span id='date-endTime'>final</span>.</p>
  </div>
</div>
<div class="row text-center mb-4">
  <div class="col-4"></div>
  <div class="col-4"> <a role="button" class="btn btn-outline-primary  btn-sm" onclick="download_img(this);" style="font-size:large; font-weight:bold; vertical-align:center; "  id="download" download="IOLScreenshot.png" href="">Download Certificate</a></div>
  <div class="col-4"></div>
</div>
</div>


<!--################################################################################################################-->
  <!-- <div class="" > 
  
  <div class="text-left" style="margin: 0%; padding: 40px; " > -->
  
 <!--<table width='100%'>
  <tr><td width = '50%' >
  <p id="certPic" style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:large; font-weight:normal">This certifies completion of the 
  <span id="IVET_title"> Newton's Second Law Interactive Tutorial 2.</span>
   </p>
  </td><td class="text-center">
  <img src="resources/certificate.gif" width='300px' height='auto' alt="completion certificate image"></img>
  </td></tr>
  </table>
  
  <p style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:x-large; font-weight:bolder">
  Login ID: <span id='login-1-firstname'>login name</span> 
  </p>
  <p class="text-left" style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:large; font-weight:bold">If your instructor asked for written evidence of completion for this assignment,  
  <a  role="button" class="btn btn-outline-primary  btn-sm" onclick="window.print();" style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:large; font-weight:bold; vertical-align:center; "  >print this page</a> 
  on paper and turn it in. 
  If your instructor asked for a screenshot,   
      <a  role="button" class="btn btn-outline-primary  btn-sm" onclick="download_img(this);" style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:large; font-weight:bold; vertical-align:center; "  id="download" download="IOLScreenshot.png" href="">click here for the screen shot <span id="pngname">IOLScreenshot.png</span>
  </a> and then send it to your instructor. The screenshot file will be in your Downloads folder.
  </p>
  
  <p  style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:large; font-weight:normal"><span  style="font-weight:bold">
  <b>Total duration: <span id='time-hms'></span> (h:m:s).</b> </span>
  Date: From <span id='date-startTime'>initial</span> to <span id='date-endTime'>final</span>.</p>
   -->
  <!--
  <p style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:x-large; font-weight:bolder; width:90%;">
  Plan for solving the problem: <span id='before-1-plan'>Not answered</span>
  </p>
  <p style="font-family:Baskerville, 'Palatino Linotype', Palatino, 'Century Schoolbook L', 'Times New Roman', serif; font-size:x-large; font-weight:bolder; width:90%;">Things learned from the tutorial:<br />
  <br />
  <span id='whatLearned-1'>Not answered.</span>
  </p>
  -->
  </div> 
  